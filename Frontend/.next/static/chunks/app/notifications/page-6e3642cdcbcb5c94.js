(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[173],{63:(e,t,a)=>{"use strict";var r=a(7260);a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},734:(e,t,a)=>{Promise.resolve().then(a.bind(a,9450))},3338:(e,t,a)=>{"use strict";a.d(t,{BottomNav:()=>m});var r=a(5155),s=a(2619),l=a.n(s),n=a(63),i=a(8595),c=a(576),d=a(7314),o=a(4269);let u=[{href:"/dashboard",icon:i.A,label:"Home"},{href:"/notifications",icon:c.A,label:"Notifications"},{href:"/profile",icon:d.A,label:"Profile"}];function m(){let e=(0,n.usePathname)();return(0,r.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-background border-t shadow-t-lg z-10",children:(0,r.jsx)("div",{className:"flex justify-around items-center h-16",children:u.map(t=>{let{href:a,icon:s,label:n}=t,i=e===a;return(0,r.jsxs)(l(),{href:a,className:(0,o.cn)("relative flex flex-col items-center justify-center gap-1 text-muted-foreground w-full h-full",i&&"text-primary"),children:[(0,r.jsx)(s,{className:"h-6 w-6"}),(0,r.jsx)("span",{className:(0,o.cn)("text-xs",i&&"font-semibold"),children:n})]},n)})})})}},6948:(e,t,a)=>{"use strict";a.d(t,{Wu:()=>d,ZB:()=>c,Zp:()=>n,aR:()=>i,wL:()=>o});var r=a(5155),s=a(2115),l=a(4269);let n=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});n.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...s})});i.displayName="CardHeader";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});c.displayName="CardTitle",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...s})}).displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",a),...s})});d.displayName="CardContent";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",a),...s})});o.displayName="CardFooter"},7314:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(4294).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},7500:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(4294).A)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},7567:(e,t,a)=>{"use strict";a.d(t,{ProtectedRoute:()=>c});var r=a(5155),s=a(2115),l=a(63),n=a(4269),i=a(5894);function c(e){let{children:t}=e,a=(0,l.useRouter)(),[c,d]=(0,s.useState)(!0),[o,u]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{(0,n.wR)()?(u(!0),d(!1)):((0,i.toast)({title:"Authentication Required",description:"Please log in to access this page.",variant:"destructive"}),a.push("/"))},[a]),c)?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-background",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):o?(0,r.jsx)(r.Fragment,{children:t}):null}},8274:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(4294).A)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},8595:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(4294).A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},9450:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>R});var r=a(5155),s=a(2115),l=a(2619),n=a.n(l),i=a(576),c=a(5897),d=a(3998),o=a(4269),u=a(7868),m=a(7500),h=a(7314),f=a(8274),x=a(4294);let p=(0,x.A)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),g=(0,x.A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var v=a(6948),N=a(63),j=a(1398);let b={comment:m.A,mention:h.A,reputation:f.A,answer:p,summary:i.A,follower:h.A};function y(e){let{notification:t}=e,a=b[t.type]||i.A,s=(0,N.useRouter)(),{refreshNotificationCount:l}=(0,j.M)(),n=async()=>{await (0,u.bA)(t.id),l(),t.link?s.push(t.link):s.push("/dashboard")};return(0,r.jsxs)(v.Zp,{className:"p-4 flex items-start gap-4 cursor-pointer hover:bg-card/90 transition-colors",onClick:n,children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:(0,o.cn)("h-10 w-10 rounded-full flex items-center justify-center","reputation"===t.type?"bg-yellow-100 dark:bg-yellow-900":"answer"===t.type?"bg-green-100 dark:bg-green-900":"bg-secondary"),children:(0,r.jsx)(a,{className:(0,o.cn)("h-5 w-5","reputation"===t.type?"text-yellow-500":"answer"===t.type?"text-green-500":"text-muted-foreground")})}),!t.read&&(0,r.jsx)("span",{className:"absolute top-0 left-0 block h-2.5 w-2.5 rounded-full bg-green-500 ring-2 ring-background"})]}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-sm",dangerouslySetInnerHTML:{__html:t.title}}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:t.description})]}),(0,r.jsxs)("div",{className:"text-right text-xs text-muted-foreground",children:[(0,r.jsx)("p",{className:"whitespace-nowrap",children:t.time}),(0,r.jsx)(g,{className:"h-5 w-5 mt-2 ml-auto"})]})]})}var w=a(3338),k=a(7468),A=a(7567);function R(){let[e,t]=(0,s.useState)([]),a=k.oD.find(e=>"user-avatar"===e.id),{refreshNotificationCount:l}=(0,j.M)();(0,s.useEffect)(()=>{!async function(){t(await (0,u.Tr)()),l()}()},[]);let o=async()=>{await (0,u.he)(),l(),t([])};return(0,r.jsx)(A.ProtectedRoute,{children:(0,r.jsxs)("div",{className:"bg-background min-h-screen flex flex-col",children:[(0,r.jsx)("header",{className:"py-4 px-6 bg-background border-b shadow-sm sticky top-0 z-10",children:(0,r.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[(0,r.jsx)("h1",{className:"text-xl font-bold text-foreground",children:"Notifications"}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(i.A,{className:"h-6 w-6 text-foreground"}),(0,r.jsx)(n(),{href:"/profile",children:(0,r.jsxs)(c.Avatar,{className:"h-8 w-8",children:[a&&(0,r.jsx)(c.AvatarImage,{src:a.imageUrl,alt:"User avatar"}),(0,r.jsx)(c.AvatarFallback,{children:"U"})]})})]})]})}),(0,r.jsxs)("main",{className:"flex-grow p-4 pb-20",children:[(0,r.jsx)(d.$,{variant:"outline",className:"w-full mb-4",onClick:o,children:"Mark all as read"}),(0,r.jsx)("div",{className:"space-y-3",children:e.length>0?e.map(e=>(0,r.jsx)(y,{notification:e},e.id)):(0,r.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No notifications"})})]}),(0,r.jsx)(w.BottomNav,{})]})})}}},e=>{e.O(0,[295,667,653,125,109,764,398,441,493,358],()=>e(e.s=734)),_N_E=e.O()}]);