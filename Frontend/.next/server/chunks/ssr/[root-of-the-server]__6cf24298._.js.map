{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Desktop/EVANGADI/PHASE%204%20THE%20PROJECT%20PHASE%20-%20BUILDING%20FULLSTACK%20APPLICATIONS/HU%20Connect/Frontend/src/lib/schemas.ts"],"sourcesContent":["import * as z from \"zod\";\r\n\r\nexport const LoginSchema = z.object({\r\n  email: z.string().email({\r\n    message: \"Please enter a valid email address.\",\r\n  }),\r\n  password: z.string().min(1, {\r\n    message: \"Password is required.\",\r\n  }),\r\n});\r\n\r\nexport const RegisterSchema = z.object({\r\n  username: z.string().min(1, {\r\n    message: \"Username is required.\",\r\n  }),\r\n  email: z.string().email({\r\n    message: \"Please enter a valid email address.\",\r\n  }),\r\n  password: z.string().min(6, {\r\n    message: \"Password must be at least 6 characters.\",\r\n  }),\r\n});\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAEO,MAAM,cAAc,4IAAQ,CAAC;IAClC,OAAO,4IAAQ,GAAG,KAAK,CAAC;QACtB,SAAS;IACX;IACA,UAAU,4IAAQ,GAAG,GAAG,CAAC,GAAG;QAC1B,SAAS;IACX;AACF;AAEO,MAAM,iBAAiB,4IAAQ,CAAC;IACrC,UAAU,4IAAQ,GAAG,GAAG,CAAC,GAAG;QAC1B,SAAS;IACX;IACA,OAAO,4IAAQ,GAAG,KAAK,CAAC;QACtB,SAAS;IACX;IACA,UAAU,4IAAQ,GAAG,GAAG,CAAC,GAAG;QAC1B,SAAS;IACX;AACF","debugId":null}},
    {"offset": {"line": 101, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Desktop/EVANGADI/PHASE%204%20THE%20PROJECT%20PHASE%20-%20BUILDING%20FULLSTACK%20APPLICATIONS/HU%20Connect/Frontend/src/lib/axios.ts"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:5001/api\";\r\n\r\nconst api = axios.create({\r\n  baseURL: API_URL,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    if (typeof window !== \"undefined\") {\r\n      const token = localStorage.getItem(\"authToken\");\r\n      if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n      }\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\napi.interceptors.response.use(\r\n  (response) => {\r\n    return response;\r\n  },\r\n  (error) => {\r\n    // Handle 401 errors (unauthorized) by redirecting to login\r\n    if (typeof window !== \"undefined\" && error.response?.status === 401) {\r\n      // Remove the token if it's invalid\r\n      localStorage.removeItem(\"authToken\");\r\n      // Note: We can't use router.push here because this is not a React component\r\n      // The ProtectedRoute component will handle the actual redirection\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,UAAU,iEAAmC;AAEnD,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC;;IAMA,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGF,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC;IACC,OAAO;AACT,GACA,CAAC;IACC,2DAA2D;IAC3D,IAAI,gBAAkB,eAAe,MAAM,QAAQ,EAAE,WAAW;;IAMhE,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa","debugId":null}},
    {"offset": {"line": 134, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Desktop/EVANGADI/PHASE%204%20THE%20PROJECT%20PHASE%20-%20BUILDING%20FULLSTACK%20APPLICATIONS/HU%20Connect/Frontend/src/lib/actions/auth.ts"],"sourcesContent":["\"use server\";\r\n\r\nimport { z } from \"zod\";\r\nimport { RegisterSchema, LoginSchema } from \"@/lib/schemas\";\r\nimport api from \"@/lib/axios\";\r\nimport { AxiosError } from \"axios\";\r\n\r\nexport async function register(values: z.infer<typeof RegisterSchema>) {\r\n  const validatedFields = RegisterSchema.safeParse(values);\r\n\r\n  if (!validatedFields.success) {\r\n    return { error: \"Invalid fields!\" };\r\n  }\r\n\r\n  try {\r\n    const response = await api.post(\"/auth/register\", validatedFields.data);\r\n    return {\r\n      success:\r\n        response.data.message || \"Registration successful! You can now log in.\",\r\n    };\r\n  } catch (error) {\r\n    if (error instanceof AxiosError && error.response) {\r\n      return { error: error.response.data.message || \"Registration failed.\" };\r\n    }\r\n    return { error: \"Something went wrong. Please try again.\" };\r\n  }\r\n}\r\n\r\nexport async function login(values: z.infer<typeof LoginSchema>) {\r\n  const validatedFields = LoginSchema.safeParse(values);\r\n\r\n  if (!validatedFields.success) {\r\n    return { error: \"Invalid fields!\" };\r\n  }\r\n\r\n  try {\r\n    const response = await api.post(\"/auth/login\", validatedFields.data);\r\n    const { token, message } = response.data;\r\n\r\n    if (token) {\r\n      return { success: message || \"Login successful!\", token: token };\r\n    }\r\n\r\n    return { error: \"Login failed. Please try again.\" };\r\n  } catch (error) {\r\n    if (error instanceof AxiosError && error.response) {\r\n      return {\r\n        error: error.response.data.message || \"Invalid email or password!\",\r\n      };\r\n    }\r\n    return { error: \"Something went wrong. Please try again.\" };\r\n  }\r\n}\r\n\r\n// Added function to request password reset\r\nexport async function requestPasswordReset(email: string) {\r\n  try {\r\n    const response = await api.post(\"/auth/request-password-reset\", { email });\r\n    return {\r\n      success: response.data.message || \"Password reset link sent successfully.\",\r\n    };\r\n  } catch (error) {\r\n    if (error instanceof AxiosError && error.response) {\r\n      return { error: error.response.data.message || \"Failed to send reset link.\" };\r\n    }\r\n    return { error: \"Something went wrong. Please try again.\" };\r\n  }\r\n}"],"names":[],"mappings":";;;;;;;;;AAGA;AACA;AACA;;;;;;AAEO,eAAe,SAAS,MAAsC;IACnE,MAAM,kBAAkB,uIAAc,CAAC,SAAS,CAAC;IAEjD,IAAI,CAAC,gBAAgB,OAAO,EAAE;QAC5B,OAAO;YAAE,OAAO;QAAkB;IACpC;IAEA,IAAI;QACF,MAAM,WAAW,MAAM,8HAAG,CAAC,IAAI,CAAC,kBAAkB,gBAAgB,IAAI;QACtE,OAAO;YACL,SACE,SAAS,IAAI,CAAC,OAAO,IAAI;QAC7B;IACF,EAAE,OAAO,OAAO;QACd,IAAI,iBAAiB,4JAAU,IAAI,MAAM,QAAQ,EAAE;YACjD,OAAO;gBAAE,OAAO,MAAM,QAAQ,CAAC,IAAI,CAAC,OAAO,IAAI;YAAuB;QACxE;QACA,OAAO;YAAE,OAAO;QAA0C;IAC5D;AACF;AAEO,eAAe,MAAM,MAAmC;IAC7D,MAAM,kBAAkB,oIAAW,CAAC,SAAS,CAAC;IAE9C,IAAI,CAAC,gBAAgB,OAAO,EAAE;QAC5B,OAAO;YAAE,OAAO;QAAkB;IACpC;IAEA,IAAI;QACF,MAAM,WAAW,MAAM,8HAAG,CAAC,IAAI,CAAC,eAAe,gBAAgB,IAAI;QACnE,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,GAAG,SAAS,IAAI;QAExC,IAAI,OAAO;YACT,OAAO;gBAAE,SAAS,WAAW;gBAAqB,OAAO;YAAM;QACjE;QAEA,OAAO;YAAE,OAAO;QAAkC;IACpD,EAAE,OAAO,OAAO;QACd,IAAI,iBAAiB,4JAAU,IAAI,MAAM,QAAQ,EAAE;YACjD,OAAO;gBACL,OAAO,MAAM,QAAQ,CAAC,IAAI,CAAC,OAAO,IAAI;YACxC;QACF;QACA,OAAO;YAAE,OAAO;QAA0C;IAC5D;AACF;AAGO,eAAe,qBAAqB,KAAa;IACtD,IAAI;QACF,MAAM,WAAW,MAAM,8HAAG,CAAC,IAAI,CAAC,gCAAgC;YAAE;QAAM;QACxE,OAAO;YACL,SAAS,SAAS,IAAI,CAAC,OAAO,IAAI;QACpC;IACF,EAAE,OAAO,OAAO;QACd,IAAI,iBAAiB,4JAAU,IAAI,MAAM,QAAQ,EAAE;YACjD,OAAO;gBAAE,OAAO,MAAM,QAAQ,CAAC,IAAI,CAAC,OAAO,IAAI;YAA6B;QAC9E;QACA,OAAO;YAAE,OAAO;QAA0C;IAC5D;AACF;;;IA5DsB;IAqBA;IA2BA;;AAhDA,+OAAA;AAqBA,+OAAA;AA2BA,+OAAA","debugId":null}},
    {"offset": {"line": 236, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Desktop/EVANGADI/PHASE%204%20THE%20PROJECT%20PHASE%20-%20BUILDING%20FULLSTACK%20APPLICATIONS/HU%20Connect/Frontend/.next-internal/server/app/register/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {register as '40f7dae24ea186b7dada60420c0529ab60307d820e'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 257, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Desktop/EVANGADI/PHASE%204%20THE%20PROJECT%20PHASE%20-%20BUILDING%20FULLSTACK%20APPLICATIONS/HU%20Connect/Frontend/src/components/auth/RegisterForm.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const RegisterForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call RegisterForm() from the server but RegisterForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/auth/RegisterForm.tsx <module evaluation>\",\n    \"RegisterForm\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,sEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 271, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Desktop/EVANGADI/PHASE%204%20THE%20PROJECT%20PHASE%20-%20BUILDING%20FULLSTACK%20APPLICATIONS/HU%20Connect/Frontend/src/components/auth/RegisterForm.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const RegisterForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call RegisterForm() from the server but RegisterForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/auth/RegisterForm.tsx\",\n    \"RegisterForm\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,kDACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 285, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 293, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Desktop/EVANGADI/PHASE%204%20THE%20PROJECT%20PHASE%20-%20BUILDING%20FULLSTACK%20APPLICATIONS/HU%20Connect/Frontend/src/app/register/page.tsx"],"sourcesContent":["import { RegisterForm } from \"@/components/auth/RegisterForm\";\r\n\r\nexport default function RegisterPage() {\r\n  return (\r\n    <div className=\"flex items-center justify-center min-h-full py-12 px-4 sm:px-6 lg:px-8 bg-background\">\r\n      <RegisterForm />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAEe,SAAS;IACtB,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC,0JAAY;;;;;;;;;;AAGnB","debugId":null}}]
}